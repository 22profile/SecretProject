<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Кликер для Telegram</title>
<style>
body {
display: flex;
flex-direction: column;
justify-content: center;
align-items: center;
height: 100vh;
margin: 0;
font-family: Arial, sans-serif;
background: #f0f0f0;
}
#clickerBox {
display: flex;
flex-direction: column;
justify-content: center;
align-items: center;
background: #fff;
padding: 20px;
border-radius: 10px;
box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}
#clickerBox p {
font-size: 24px;
margin: 0 0 10px;
}
#counter {
font-size: 48px;
margin: 0 0 20px;
}
#clickButton {
padding: 10px 20px;
font-size: 18px;
color: #fff;
background: #007bff;
border: none;
border-radius: 5px;
cursor: pointer;
transition: background 0.3s;
}
#clickButton:hover {
background: #0056b3;
}
#username {
margin-bottom: 20px;
font-size: 20px;
color: #333;
}
</style>
</head>
<body>
<div id="clickerBox">
<div id="username">Загрузка имени пользователя...</div>
<p>Количество кликов:</p>
<div id="counter">0</div>
<button id="clickButton">Кликни меня!</button>
</div>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function () {
const tg = window.Telegram.WebApp;
tg.expand();

usernameElement = document.getElementById("username");
if (tg.initDataUnsafe.user) {
usernameElement.textContent = `Привет, ${tg.initDataUnsafe.user.first_name}!`;
} else {
usernameElement.textContent = "Имя пользователя не найдено.";
}

const counter = document.getElementById("counter");
const clickButton = document.getElementById("clickButton");

let count = 0;

clickButton.addEventListener("click", function () {
count++;
counter.textContent = count;
tg.MainButton.setText(`Клики: ${count}`);
});

tg.onEvent('mainButtonClicked', function() {
tg.sendData(`Количество кликов: ${count}`);
});

tg.MainButton.text = "Сбросить";
tg.MainButton.show();
});
