<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Secret</title>
<style>
    body {
        background-color: black;
        color: white;
        text-align: center;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        overflow: hidden; 
    }
    h1 {
        font-size: 2em;
        margin-top: 20px;
    }
    p {
        font-size: 1.2em;
    }
    #guestContainer {
        height: 300px; 
        overflow-y: auto; 
        margin: 20px auto;
        padding: 0;
        max-width: 300px; 
        border: 1px solid #ccc; 
        border-radius: 5px; 
    }
    #guestContainer::-webkit-scrollbar {
        width: 8px; 
    }
    #guestContainer::-webkit-scrollbar-track {
        background-color: #f1f1f1;
    }
    #guestContainer::-webkit-scrollbar-thumb {
        background-color: #888; 
        border-radius: 4px; 
    }
    #guestContainer::-webkit-scrollbar-thumb:hover {
        background-color: #555;
    }
    #guestList {
        list-style-type: none;
        font-size: 1.1em;
        padding: 0;
        margin: 0;
    }
    #guestList li {
        padding: 8px 16px;
        border-bottom: 1px solid #ddd;
    }
    #guestList li:last-child {
        border-bottom: none; 
    }
    #inviteButton {
        background-color: #4CAF50;
        color: white;
        border: none;
        padding: 10px 20px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin-top: 20px;
        cursor: pointer;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        border-radius: 10px;
    }
    .header {
        border: 2px solid white;
        padding: 10px;
        display: inline-block;
        border-radius: 15px; 
    }
    .overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
    }
    .popup {
        background: rgba(0, 0, 0, 0.8);
        padding: 20px;
        border-radius: 10px;
        text-align: center;
    }
    .popup p {
        color: white;
        margin: 10px 0;
    }
    .close-button {
        position: absolute;
        top: 10px;
        right: 10px;
        background: none;
        border: none;
        color: white;
        cursor: pointer;
        font-size: 1.2em;
    }
    .copy-button {
        background-color: #4CAF50;
        color: white;
        border: none;
        padding: 10px 20px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin-top: 20px;
        cursor: pointer;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        border-radius: 10px;
    }
</style>
</head>
<body>
    <div class="header">
        <h1>Secret</h1>
    </div>
    <p>Список приглашенных</p> 
	<p id = "nickname">Sauvage</p>
    <div id="guestContainer">
        <ul id="guestList">
            <!-- Элементы списка будут добавляться через JavaScript -->
        </ul>
    </div>

    <button id="inviteButton" onclick="invite()">Пригласить</button>

	<script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
	
		let tg = window.Telegram.WebApp
	
        document.addEventListener("DOMContentLoaded", function() {
            var guests = [
                "player",
                "LLSDRR",
                "nikita",
                "mememe",
                "noob4646",
                "zaruba5225",
                "pepepee",
                "Маргарита"
            ];

            var list = document.getElementById("guestList");
            guests.forEach(function(guest) {
                var listItem = document.createElement("li");
                listItem.textContent = guest;
                list.appendChild(listItem);
            });
        });

        function invite() {
            var personalLink = "https://t.me/Bot?start=" + tg.initDataUnsafe.first_name;
            showPopup(personalLink);
        }

        function showPopup(link) {
            var popup = document.createElement("div");
            popup.className = "overlay";
            var popupContent = document.createElement("div");
            popupContent.className = "popup";
            
            var linkText = document.createElement("p");
            linkText.textContent = "Ваша ссылка:";
            
            var linkElement = document.createElement("p");
            linkElement.textContent = link;
            
            var closeButton = document.createElement("button");
            closeButton.className = "close-button";
            closeButton.textContent = "Закрыть";
            closeButton.onclick = function() {
                document.body.removeChild(popup);
            };

            var copyButton = document.createElement("button");
            copyButton.className = "copy-button";
            copyButton.textContent = "Скопировать";
            copyButton.onclick = function() {
                var range = document.createRange();
                range.selectNode(linkElement);
                window.getSelection().removeAllRanges();
                window.getSelection().addRange(range);
                document.execCommand("copy");
                window.getSelection().removeAllRanges();
                copiedMessage.style.display = "block";
            };

            var copiedMessage = document.createElement("p");
            copiedMessage.textContent = "Скопировано в буфер обмена";
            copiedMessage.style.display = "none";

            popupContent.appendChild(linkText);
            popupContent.appendChild(linkElement);
            popupContent.appendChild(copyButton);
            popupContent.appendChild(copiedMessage);
            popupContent.appendChild(closeButton);
            popup.appendChild(popupContent);
            document.body.appendChild(popup);
        }
    </script>
</body>
</html>
